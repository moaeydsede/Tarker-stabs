<!doctype html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <meta name="theme-color" content="#0b1220" />
  <title>ูุชุงุจุนุฉ ุงูุฃุฏููุฉ</title>

  <link rel="manifest" href="manifest.json" />
  <link rel="icon" href="icon-192.png" />
  <link rel="apple-touch-icon" href="icon-192.png" />
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <header class="app-header">
    <div class="brand">
      <img class="brand__icon" src="icon-192.png" alt="Med" />
      <div class="brand__txt">
        <h1>ูุชุงุจุนุฉ ุงูุฃุฏููุฉ</h1>
        <p class="muted">ููุจุงูู ููุท โข ูุนูู ุจุฏูู ุฅูุชุฑูุช โข ุจูุงูุงุชู ูุญููุธุฉ ุนูู ุฌูุงุฒู</p>
      </div>
    </div>
    <div class="header-actions">
      <button id="btnInstall" class="btn btn-ghost hidden" type="button">ุชุซุจูุช</button>
      <button id="btnNotify" class="btn btn-ghost" type="button">ุชูุนูู ุงูุชุฐููุฑ</button>
    </div>
  </header>

  <main class="container">
    <section class="card">
      <div class="card__head">
        <h2>ุงูุฃุฏููุฉ ุงูููู</h2>
        <div class="segmented" role="tablist" aria-label="ููุชุฑุฉ">
          <button class="segmented__btn is-active" data-filter="all" type="button">ุงููู</button>
          <button class="segmented__btn" data-filter="due" type="button">ูุณุชุญูุฉ</button>
          <button class="segmented__btn" data-filter="taken" type="button">ุชู ุชูุงูููุง</button>
          <button class="segmented__btn" data-filter="missed" type="button">ูุงุชุช</button>
        </div>
      </div>

      <div class="toolbar">
        <div class="search">
          <input id="searchInput" class="input" placeholder="ุงุจุญุซ ุจุงุณู ุงูุฏูุงุก..." autocomplete="off" />
        </div>
        <button id="btnAdd" class="btn btn-primary" type="button">ุฅุถุงูุฉ ุฏูุงุก</button>
      </div>

      <div id="todayList" class="list"></div>

      <div id="emptyState" class="empty hidden">
        <div class="empty__emoji">๐</div>
        <div class="empty__title">ูุง ุชูุฌุฏ ุฃุฏููุฉ ุจุนุฏ</div>
        <div class="empty__desc">ุงุถุบุท โุฅุถุงูุฉ ุฏูุงุกโ ูุงุจุฏุฃ ุชุณุฌูู ุฌุฏูู ุฃุฏููุชู.</div>
      </div>
    </section>

    <section class="card">
      <div class="card__head">
        <h2>ุฃุฏููุฉ ุงูุฃุฒูุฉ (ุนูุฏ ุงููุฒูู)</h2>
        <p class="muted">ูุฐู ุงูุฃุฏููุฉ ุชุธูุฑ ุฏุงุฆููุง ุจุฒุฑ โุชูุงููุช ุงูุขูโ ูุชุณุฌูููุง ุจุณุฑุนุฉ.</p>
      </div>
      <div id="prnList" class="list"></div>
      <div id="prnEmpty" class="empty hidden">
        <div class="empty__emoji">โก</div>
        <div class="empty__title">ูุง ุชูุฌุฏ ุฃุฏููุฉ ุฃุฒูุฉ</div>
        <div class="empty__desc">ุฃุถู ุฏูุงุก ูุญุฏุฏ โุฏูุงุก ุฃุฒูุฉ/ุนูุฏ ุงููุฒููโ.</div>
      </div>
    </section>

    <section class="card">
      <div class="card__head">
        <h2>ุณุฌู ุงูุชูุงูู</h2>
        <div class="row">
          <button id="btnExport" class="btn btn-ghost" type="button">ุชุตุฏูุฑ CSV</button>
          <button id="btnClearLog" class="btn btn-danger" type="button">ูุณุญ ุงูุณุฌู</button>
        </div>
      </div>
      <div id="logList" class="log"></div>
      <div id="logEmpty" class="empty hidden">
        <div class="empty__emoji">๐๏ธ</div>
        <div class="empty__title">ุงูุณุฌู ูุงุฑุบ</div>
        <div class="empty__desc">ุนูุฏ ุงูุถุบุท ุนูู โุชูุงููุชโ ุณูุชู ุชุณุฌูู ุงูุชูููุช ููุง.</div>
      </div>
    </section>

    <footer class="footer">
      <div class="muted">
        ููุงุญุธุฉ: ุงูุชุฐููุฑ ุนุจุฑ ุงูุฅุดุนุงุฑุงุช ูุนุชูุฏ ุนูู ุจูุงุก ุงูุชุทุจูู ููุชูุญูุง ุฃู ูุซุจุชูุง ูู PWA.
        ุจุนุถ ุงูููุงุชู ูุฏ ุชููู ุงูุฅุดุนุงุฑุงุช ูู ุงูุฎูููุฉ ูุชูููุฑ ุงูุจุทุงุฑูุฉ.
      </div>
    </footer>
  </main>

  <!-- Add/Edit Modal -->
  <dialog id="modal" class="modal">
    <form id="medForm" method="dialog" class="modal__content">
      <div class="modal__head">
        <h3 id="modalTitle">ุฅุถุงูุฉ ุฏูุงุก</h3>
        <button id="btnClose" class="btn btn-ghost" type="button">ุฅุบูุงู</button>
      </div>

      <div class="grid">
        <label class="field">
          <span class="field__label">ุงุณู ุงูุฏูุงุก *</span>
          <input id="medName" class="input" required placeholder="ูุซุงู: Ventolin" />
        </label>

        <label class="field">
          <span class="field__label">ููุงุญุธุฉ/ุฌุฑุนุฉ</span>
          <input id="medNote" class="input" placeholder="ูุซุงู: 2 ุจุฎุฉ" />
        </label>

        <label class="field">
          <span class="field__label">ููุน ุงูุฏูุงุก</span>
          <select id="medType" class="input">
            <option value="scheduled">ุฏูุงุก ุจููุช ุซุงุจุช</option>
            <option value="prn">ุฏูุงุก ุฃุฒูุฉ/ุนูุฏ ุงููุฒูู</option>
          </select>
        </label>

        <label class="field">
          <span class="field__label">ููุงุนูุฏ ุงูููู (ููุฏูุงุก ุจููุช ุซุงุจุช)</span>
          <div class="times">
            <div id="timesWrap"></div>
            <button id="btnAddTime" class="btn btn-ghost" type="button">+ ุฅุถุงูุฉ ููุช</button>
          </div>
          <span class="hint">ูููู ุฅุถุงูุฉ ุฃูุซุฑ ูู ููุช (ูุซุงู: 08:00 ู 20:00)</span>
        </label>

        <label class="field">
          <span class="field__label">ุตูุฑุฉ ุงูุฏูุงุก</span>
          <input id="medImage" class="input" type="file" accept="image/*" />
          <span class="hint">ุชูุญูุธ ุฏุงุฎู ุงูุฌูุงุฒ (LocalStorage) โ ูุฏ ุชุณุชููู ูุณุงุญุฉ ุฅุฐุง ูุงูุช ุงูุตูุฑ ูุจูุฑุฉ.</span>
        </label>

        
        <label class="field">
          <span class="field__label">ุชูุจูู ูุจู ุงูููุนุฏ</span>
          <select id="medBefore" class="input">
            <option value="0">ุจุฏูู</option>
            <option value="5">ูุจู 5 ุฏูุงุฆู</option>
            <option value="10" selected>ูุจู 10 ุฏูุงุฆู</option>
            <option value="15">ูุจู 15 ุฏูููุฉ</option>
            <option value="30">ูุจู 30 ุฏูููุฉ</option>
          </select>
          <span class="hint">ุณูุชู ุฅุฑุณุงู ุฅุดุนุงุฑ ูุจู ุงูููุนุฏ ุงููุญุฏุฏ (ููุฃุฏููุฉ ุจููุช ุซุงุจุช).</span>
        </label>

        <label class="field">
          <span class="field__label">ุชุฐููุฑ ูู ุญุงู ุนุฏู ุชูุงููู</span>
          <select id="medRemind" class="input">
            <option value="15">ูู 15 ุฏูููุฉ</option>
            <option value="30" selected>ูู 30 ุฏูููุฉ</option>
            <option value="60">ูู 60 ุฏูููุฉ</option>
            <option value="0">ุจุฏูู ุชูุฑุงุฑ</option>
          </select>
        </label>
      </div>

      <div class="modal__actions">
        <button id="btnDelete" class="btn btn-danger hidden" type="button">ุญุฐู</button>
        <div class="spacer"></div>
        <button id="btnSave" class="btn btn-primary" type="submit">ุญูุธ</button>
      </div>

      <input type="hidden" id="medId" />
    </form>
  </dialog>

  <script src="app.js"></script>
</body>
</html>
